@inherits Custom.Hybrid.Razor12
@using ToSic.Razor.Blade;
@{
  var popup = DynamicModel.Popup;
}

<div class="modal micromodal-slide" id="modal-js-@CmsContext.Module.Id" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
      <header class="modal__header">
        @if (Text.Has(popup.Image))
        {
          <img class="img-fluid" src='@Tags.SafeUrl(popup.Image + "?q=80&w=600&h=200&mode=crop")' />
        }
        <button class="modal__close" type='button' aria-label="Close modal" data-micromodal-close></button>
      </header>
      <div class="modal-content-content">
        <div class="modal__content">
          @Html.Raw(popup.Text)
          @if (Text.Has(popup.LinkText))
          {
            <a href="@Tags.SafeUrl(popup.Link)" target='@(popup.LinkNewTab ? "_blank" : "_self")'
            class="btn btn-primary">@popup.LinkText</a>
          }
        </div>
      </div>
    </div>
  </div>
</div>
